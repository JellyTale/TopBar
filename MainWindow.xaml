<Window x:Class="TopBar.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="TopBar"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize">

    <Border x:Name="BarBorder" Background="#01000000" CornerRadius="0">
        <Grid Margin="12,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />   <!-- Left: app name -->
                <ColumnDefinition Width="*" />       <!-- Centre: window title -->
                <ColumnDefinition Width="Auto" />   <!-- Right: icons -->
            </Grid.ColumnDefinitions>

            <!-- Left: app name button (opens settings) -->
            <Border Grid.Column="0" Background="Transparent" CornerRadius="4"
                    Padding="8,4" Cursor="Hand"
                    MouseLeftButtonUp="SettingsButton_Click"
                    MouseEnter="SettingsButton_MouseEnter"
                    MouseLeave="SettingsButton_MouseLeave"
                    x:Name="SettingsButton">
                <TextBlock x:Name="AppNameText" Text="TopBar"
                           Foreground="#CCFFFFFF" FontSize="13" FontWeight="SemiBold"
                           VerticalAlignment="Center"/>
            </Border>

            <!-- Centre: active window title -->
            <TextBlock Grid.Column="1" x:Name="WindowTitleText"
                       Foreground="#88FFFFFF" FontSize="12"
                       HorizontalAlignment="Center" VerticalAlignment="Center"
                       TextTrimming="CharacterEllipsis" MaxWidth="600"/>

            <!-- Right: dynamic icon panel (built in code-behind) -->
            <StackPanel Grid.Column="2" x:Name="RightPanel"
                        Orientation="Horizontal" VerticalAlignment="Stretch"/>
        </Grid>
    </Border>
</Window>
