<Window x:Class="TopBar.BrightnessPopup"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Brightness"
        Width="280" Height="100"
        WindowStartupLocation="Manual"
        WindowStyle="None" AllowsTransparency="True"
        Background="Transparent" ResizeMode="NoResize"
        ShowInTaskbar="False" Topmost="True"
        Deactivated="Window_Deactivated"
        MouseEnter="Window_MouseEnter"
        MouseLeave="Window_MouseLeave">

    <Border Background="#01000000" BorderBrush="{DynamicResource PopupAccent}"
            BorderThickness="1" CornerRadius="8" Padding="16,14">
        <StackPanel>
            <StackPanel.Resources>
                <Style TargetType="Slider">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="Slider">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto" MinHeight="{TemplateBinding MinHeight}"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Border Grid.Row="1" Height="4" CornerRadius="2" Background="{DynamicResource PopupAccent}" Margin="5,0"/>
                                    <Track Grid.Row="1" x:Name="PART_Track">
                                        <Track.Thumb>
                                            <Thumb Width="16" Height="16">
                                                <Thumb.Template>
                                                    <ControlTemplate TargetType="Thumb">
                                                        <Ellipse Fill="{DynamicResource PopupThumb}" Width="14" Height="14"/>
                                                    </ControlTemplate>
                                                </Thumb.Template>
                                            </Thumb>
                                        </Track.Thumb>
                                    </Track>
                                </Grid>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </StackPanel.Resources>

            <TextBlock Text="Brightness" Foreground="{DynamicResource PopupFgLabel}" FontSize="11" Margin="0,0,0,6"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Viewbox Grid.Column="0" Width="16" Height="16" Margin="0,0,8,0">
                    <Canvas Width="24" Height="24">
                        <Path Fill="{DynamicResource PopupFgNormal}"
                              Data="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 000-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"/>
                    </Canvas>
                </Viewbox>
                <Slider x:Name="BrightnessSlider" Grid.Column="1"
                        Minimum="0" Maximum="100"
                        VerticalAlignment="Center"
                        ValueChanged="BrightnessSlider_ValueChanged"/>
                <TextBlock x:Name="BrightnessLabel" Grid.Column="2"
                           Foreground="{DynamicResource PopupFgNormal}" FontSize="12"
                           Width="32" TextAlignment="Right"
                           VerticalAlignment="Center" Margin="8,0,0,0"/>
            </Grid>
        </StackPanel>
    </Border>
</Window>
